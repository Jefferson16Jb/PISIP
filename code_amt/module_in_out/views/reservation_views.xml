<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>
<odoo>

    <record id='reservation_view_form' model='ir.ui.view'>
        <field name="name">reservation.form</field>
        <field name="model">reservation</field>
        <field name="arch" type="xml">
            <form string="Resevación">
                <header>
                	<button name="action_process" type="object" states="draft" string="Tramitar solicitudes" class="oe_highlight"/>
                    <button name="action_sent_mail" type="object" states="in_process,done" string="Enviar correo electrónico"/>
                    <button name="action_cancel" states="in_process,done" string="Cancelar" type="object"/>
                    <button name="action_draft" states="cancel" string="Cambiar a borrador" type="object"/>
                    <field name="state" widget="statusbar" clickable="True"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="act_show_log_request"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-list"
                            help="Mostrar las solicitudes">
                            <!-- field name="cost_count" widget="statinfo" string="Costs"/-->
                        </button>
                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>
                    <group col="2" string="General Properties">
                        <group >
                            <field name="elaborared_id"/>
                            <field name="applicant_id"/>
                        </group>
                        <group >
                            <field name="authorized_id"/>
                            <field name="date"/>
                            <field name="company_id" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                    	<page string="Lineas de solicitudes">
                    		<field name="reservation_line_ids">
                                <tree string="Lineas" editable="bottom">
                                    <field name="drive_id"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="date_out"/>
                                    <field name="date_in"/>
                                    <field name="name"/>
                                    <field name="vehicle_id"/>
                                    <field name="state_request"/>
                                </tree>
                            </field>
                    	</page>
                    	<div>
                    		<field name="comment"/>
                    	</div>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread" options='{"thread_level": 1}'/>
                </div>
            </form>
        </field>
    </record>
    
	<record id='reservation_view_tree' model='ir.ui.view'>
        <field name="name">reservation.tree</field>
        <field name="model">reservation</field>
        <field name="arch" type="xml">
            <tree string="Vehicle">
                <field name="name" />
                <field name="elaborared_id" />
                <field name="applicant_id" />
                <field name="date" />
                <field name="authorized_id"/>
                <field name="state" />
            </tree>
        </field>
    </record>
    
    <record id='reservation_action' model='ir.actions.act_window'>
        <field name="name">Reservación vehícular</field>
        <field name="res_model">reservation</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Haga clic para crear un nuevo registro de reservación.
          </p>
          <p>
            Aquí puede agregar varias entradas de reservación.
            También puede mostrar el valor del reservación para un vehículo en particular usando
            el campo de búsqueda.
          </p>
        </field>
    </record>

    <menuitem action="reservation_action" parent="fleet.fleet_vehicles" id="reservation_menu" sequence="1"/>
    
</odoo>
